#pragma config(Motor,  port2,           motorLeft,     tmotorServoContinuousRotation, openLoop)
#pragma config(Motor,  port4,           sizeChange,    tmotorServoStandard, openLoop)
#pragma config(Motor,  port5,           autobox,       tmotorServoContinuousRotation, openLoop)
#pragma config(Motor,  port6,           forkliftMotor, tmotorServoContinuousRotation, openLoop)
#pragma config(Motor,  port7,           claw,          tmotorServoStandard, openLoop)
#pragma config(Motor,  port9,           motorRight,    tmotorServoContinuousRotation, openLoop)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

task main(){
	bool autonomous = false;
	bool lastpress8D = false;
	bool clawOpen = true;

	// Move servo to fit in competition dimensions
	motor[sizeChange]=127;

	while (true){
		if (autonomous){


		}
		// Manual Controls
		else{

			// Expand to full size
			if(vexRT[Btn8L]){
				motor[sizeChange]=-127;
			}

			// Drive motor controls
			motor[motorLeft]=vexRT[Ch3];
			motor[motorRight]=vexRT[Ch2];

			// Forklift controls
			if(vexRT[Btn6U]){
				motor[forkliftMotor]=127;
			}
			else if(vexRT[Btn6D]){
				motor[forkliftMotor]=-127;

			}
			else{
				motor[forkliftMotor]=0;
			}

			// Move autobox platform
			if(vexRT[Btn5U]){
				motor[autobox]=127;
			}
			else if(vexRT[Btn5D]){
				motor[autobox]=-127;
			}
			else{
				motor[autobox]=0;
			}

			if(vexRT[Btn8D]){
				// Check if button is already being pressed
				if(lastpress8D==false){
					// Triggers once on button press
					// If claw is open, close it. If claw is close, open it.
					if(clawOpen){
						motor[claw]=127;
						clawOpen = false;
					}
					else{
						motor[claw]=-127;
						clawOpen = true;
					}
				}
				// Set button to pressed
				lastpress8D=true;
			}
			else{
				// Set button to unpressed
				lastpress8D=false;
			}

		}
	}
}
